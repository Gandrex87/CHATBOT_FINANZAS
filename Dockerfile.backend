# Etapa 1: Imagen base
FROM python:3.11-slim

# Etapa 2: Establecer el directorio de trabajo
WORKDIR /app

# Etapa 3: Instalar dependencias
# Copiamos solo el archivo de requisitos primero para aprovechar el cache de Docker.
# Si no cambias los requisitos, Docker no volver치 a instalar todo cada vez.
COPY requirements.txt requirements.txt
RUN pip install --no-cache-dir -r requirements.txt

# Etapa 4: Copiar el c칩digo de la aplicaci칩n
# Copiamos el resto de los archivos de tu proyecto al contenedor.
COPY . .

# Etapa 5: Comando para ejecutar la aplicaci칩n
# '--host 0.0.0.0' es importante para que la API sea accesible desde fuera del contenedor.
CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8000"]